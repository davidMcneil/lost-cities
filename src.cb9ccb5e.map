{"version":3,"sources":["node_modules/inferno/dist/index.esm.js","node_modules/inferno/index.esm.js","src/index.tsx"],"names":["isArray","Array","isStringOrNumber","o","type","isNullOrUndef","isUndefined","isNull","isInvalid","isTrue","isFunction","isString","warning","message","console","error","combineFrom","first","second","out","key","key$1","EMPTY_OBJ","Fragment","LIFECYCLE","appendChild","parentDOM","dom","insertOrAppend","newNode","nextNode","insertBefore","documentCreateElement","tag","isSVG","document","createElementNS","createElement","replaceChild","newDom","lastDom","removeChild","childNode","callAll","arrayFn","listener","undefined","shift","findDOMfromVNode","vNode","flags","children","childFlags","$LI","removeVNodeDOM","i","len","length","moveVNodeDOM","createDerivedState","instance","nextProps","state","constructor","getDerivedStateFromProps","options","componentComparator","createVNode","renderComplete","keyPrefix","V","className","props","ref","childFlag","optsVNode","normalizeChildren","createComponentVNode","prototype","render","defaultProps","prop","defaultHooks","prop$1","createTextVNode","text","createFragment","fragment","createVoidVNode","normalizeProps","cloneFragment","vNodeToClone","clonedChildren","oldChildren","directClone","push","propsToClone","createPortal","container","_normalizeVNodes","nodes","result","index","currentKey","n","newKey","oldKey","isPrefixedKey","getFlagsForElementVnode","newChildren","newChildFlags","slice","needsCloning","isNullKey","isPrefixed","linkEvent","data","event","xlinkNS","xmlNS","namespaces","attachedEventCounts","attachedEvents","handleEvent","name","nextEvent","eventsObject","$EV","attachEventToDocument","removeEventListener","normalizeEventName","dispatchEvents","target","isClick","eventData","disabled","currentEvent","cancelBubble","parentNode","substr","toLowerCase","stopPropagation","immediatePropagationStopped","stopImmediatePropagation","docEvent","button","Object","defineProperty","configurable","get","addEventListener","isSameInnerHTML","innerHTML","tempdom","triggerEventListener","methodName","e","nativeListenerName","createWrappedFunction","applyValue","fnMethod","$V","newVNode","newProps","enumerable","value","writable","isCheckedType","onTextInputChange","applyValueInput","wrappedOnChange","emptywrapper","inputEvents","nextPropsOrEmpty","onchange","onclick","oninput","checked","multiple","defaultValue","hasValue","setAttribute","updateChildOptions","updateChildOption","indexOf","selected","wrapped","onSelectChange","applyValueSelect","selectEvents","mounting","multiplePropInBoolean","Boolean","onTextareaInputChange","applyValueTextArea","wrappedOnChange$1","textAreaEvents","onChange","domValue","processElement","isControlled","addFormElementEventHandlers","isControlledFormElement","createRef","current","forwardRef","pushRef","unmountRef","mountRef","remove","unmount","unmountAllChildren","componentWillUnmount","$UN","onComponentWillUnmount","clearDOM","textContent","removeAllChildren","createLinkEvent","nextValue","patchEvent","nameLowerCase","domEvent","patchStyle","lastAttrValue","nextAttrValue","removeAttribute","domStyle","style","cssText","setProperty","removeProperty","patchProp","lastValue","hasControlledValue","lastVNode","autofocus","lastHtml","__html","nextHtml","charCodeAt","setAttributeNS","mountProps","isFormElement","renderNewInput","context","nextInput","handleComponentInput","childContext","getChildContext","$CX","createClassComponentInstance","Component","usesNewAPI","$N","getSnapshotBeforeUpdate","$BS","componentWillMount","$BR","$PSS","pending","$PS","input","mount","mountElement","mountClassComponent","mountFunctionalComponent","mountText","mountFragment","mountPortal","placeHolderVNode","mountArrayChildren","createTextNode","mountTextContent","childrenIsSVG","child","mountClassComponentCallbacks","$UPD","mountFunctionalComponentCallbacks","createClassMountCallback","componentDidMount","createOnMountCallback","onComponentDidMount","onComponentWillMount","replaceWithNewNode","nextVNode","patch","nextFlags","patchElement","patchClassComponent","patchFunctionalComponent","patchText","patchFragment","patchPortal","patchSingleTextChild","lastChildren","nextChildren","firstChild","nodeValue","patchContentEditableChildren","nextSibling","patchChildren","lastContainer","nextContainer","node","lastProps","lastPropsOrEmpty","hasOwnProperty","nextClassName","nextRef","lastRef","replaceOneVNodeWithMultipleVNodes","lastChildFlags","nextChildFlags","parentVNode","lastLength","nextLength","patchKeyedChildren","patchNonKeyedChildren","createDidUpdate","lastState","snapshot","componentDidUpdate","updateClassComponent","nextState","force","hasSCU","shouldComponentUpdate","componentWillUpdate","componentWillReceiveProps","shouldUpdate","nextHooksDefined","lastInput","onComponentShouldUpdate","onComponentWillUpdate","onComponentDidUpdate","nextText","lastChildrenLength","nextChildrenLength","commonLength","nextChild","lastChild","a","b","aLength","bLength","outerEdge","aEnd","nextPos","bEnd","j","aNode","bNode","outer","aStart","bStart","aLeft","bLeft","sources","canRemoveWholeContent","moved","pos","patched","keyIndex","seq","lis_algorithm","arr","p","u","v","c","arrI","hasDocumentAvailable","documentBody","body","__render","callback","rootInput","createRenderer","QUEUE","nextTick","Promise","resolve","then","bind","setTimeout","window","queueStateChanges","component","newState","stateKey","rerender","QU","$QU","applyState","callSetStateCallbacks","queue","call","pop","pendingState","forceUpdate","setState","_nextProps","_nextState","_nextContext","version"],"mappings":"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","file":"src.cb9ccb5e.map","sourceRoot":"..","sourcesContent":["var isArray = Array.isArray;\nfunction isStringOrNumber(o) {\n    var type = typeof o;\n    return type === 'string' || type === 'number';\n}\nfunction isNullOrUndef(o) {\n    return isUndefined(o) || isNull(o);\n}\nfunction isInvalid(o) {\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\n}\nfunction isFunction(o) {\n    return typeof o === 'function';\n}\nfunction isString(o) {\n    return typeof o === 'string';\n}\nfunction isNull(o) {\n    return o === null;\n}\nfunction isTrue(o) {\n    return o === true;\n}\nfunction isUndefined(o) {\n    return o === void 0;\n}\nfunction warning(message) {\n    // tslint:disable-next-line:no-console\n    console.error(message);\n}\nfunction combineFrom(first, second) {\n    var out = {};\n    if (first) {\n        for (var key in first) {\n            out[key] = first[key];\n        }\n    }\n    if (second) {\n        for (var key$1 in second) {\n            out[key$1] = second[key$1];\n        }\n    }\n    return out;\n}\n\n// We need EMPTY_OBJ defined in one place.\n// Its used for comparison so we cant inline it into shared\nvar EMPTY_OBJ = {};\nvar Fragment = '$F';\nvar LIFECYCLE = [];\nfunction appendChild(parentDOM, dom) {\n    parentDOM.appendChild(dom);\n}\nfunction insertOrAppend(parentDOM, newNode, nextNode) {\n    if (isNull(nextNode)) {\n        appendChild(parentDOM, newNode);\n    }\n    else {\n        parentDOM.insertBefore(newNode, nextNode);\n    }\n}\nfunction documentCreateElement(tag, isSVG) {\n    if (isSVG) {\n        return document.createElementNS('http://www.w3.org/2000/svg', tag);\n    }\n    return document.createElement(tag);\n}\nfunction replaceChild(parentDOM, newDom, lastDom) {\n    parentDOM.replaceChild(newDom, lastDom);\n}\nfunction removeChild(parentDOM, childNode) {\n    parentDOM.removeChild(childNode);\n}\nfunction callAll(arrayFn) {\n    var listener;\n    while ((listener = arrayFn.shift()) !== undefined) {\n        listener();\n    }\n}\nfunction findDOMfromVNode(vNode) {\n    var flags;\n    var children;\n    while (vNode) {\n        flags = vNode.flags;\n        if (flags & 2033 /* DOMRef */) {\n            return vNode.dom;\n        }\n        children = vNode.children;\n        if (flags & 8192 /* Fragment */) {\n            vNode = vNode.childFlags === 2 /* HasVNodeChildren */ ? children : children[0];\n        }\n        else if (flags & 4 /* ComponentClass */) {\n            vNode = children.$LI;\n        }\n        else {\n            vNode = children;\n        }\n    }\n    return null;\n}\nfunction removeVNodeDOM(vNode, parentDOM) {\n    var flags = vNode.flags;\n    if (flags & 2033 /* DOMRef */) {\n        removeChild(parentDOM, vNode.dom);\n    }\n    else {\n        var children = vNode.children;\n        if (flags & 4 /* ComponentClass */) {\n            removeVNodeDOM(children.$LI, parentDOM);\n        }\n        else if (flags & 8 /* ComponentFunction */) {\n            removeVNodeDOM(children, parentDOM);\n        }\n        else if (flags & 8192 /* Fragment */) {\n            if (vNode.childFlags === 2 /* HasVNodeChildren */) {\n                removeVNodeDOM(children, parentDOM);\n            }\n            else {\n                for (var i = 0, len = children.length; i < len; i++) {\n                    removeVNodeDOM(children[i], parentDOM);\n                }\n            }\n        }\n    }\n}\nfunction moveVNodeDOM(vNode, parentDOM, nextNode) {\n    var flags = vNode.flags;\n    if (flags & 2033 /* DOMRef */) {\n        insertOrAppend(parentDOM, vNode.dom, nextNode);\n    }\n    else {\n        var children = vNode.children;\n        if (flags & 4 /* ComponentClass */) {\n            moveVNodeDOM(children.$LI, parentDOM, nextNode);\n        }\n        else if (flags & 8 /* ComponentFunction */) {\n            moveVNodeDOM(children, parentDOM, nextNode);\n        }\n        else if (flags & 8192 /* Fragment */) {\n            if (vNode.childFlags === 2 /* HasVNodeChildren */) {\n                moveVNodeDOM(children, parentDOM, nextNode);\n            }\n            else {\n                for (var i = 0, len = children.length; i < len; i++) {\n                    moveVNodeDOM(children[i], parentDOM, nextNode);\n                }\n            }\n        }\n    }\n}\nfunction createDerivedState(instance, nextProps, state) {\n    if (instance.constructor.getDerivedStateFromProps) {\n        return combineFrom(state, instance.constructor.getDerivedStateFromProps(nextProps, state));\n    }\n    return state;\n}\nvar options = {\n    componentComparator: null,\n    createVNode: null,\n    renderComplete: null\n};\n\nvar keyPrefix = '$';\nfunction V(childFlags, children, className, flags, key, props, ref, type) {\n    this.childFlags = childFlags;\n    this.children = children;\n    this.className = className;\n    this.dom = null;\n    this.flags = flags;\n    this.key = key === void 0 ? null : key;\n    this.props = props === void 0 ? null : props;\n    this.ref = ref === void 0 ? null : ref;\n    this.type = type;\n}\nfunction createVNode(flags, type, className, children, childFlags, props, key, ref) {\n    var childFlag = childFlags === void 0 ? 1 /* HasInvalidChildren */ : childFlags;\n    var vNode = new V(childFlag, children, className, flags, key, props, ref, type);\n    var optsVNode = options.createVNode;\n    if (isFunction(optsVNode)) {\n        optsVNode(vNode);\n    }\n    if (childFlag === 0 /* UnknownChildren */) {\n        normalizeChildren(vNode, vNode.children);\n    }\n    return vNode;\n}\nfunction createComponentVNode(flags, type, props, key, ref) {\n    if ((flags & 2 /* ComponentUnknown */) !== 0) {\n        if (type.prototype && type.prototype.render) {\n            flags = 4 /* ComponentClass */;\n        }\n        else if (type.render) {\n            flags = 32776 /* ForwardRefComponent */;\n            type = type.render;\n        }\n        else {\n            flags = 8 /* ComponentFunction */;\n        }\n    }\n    // set default props\n    var defaultProps = type.defaultProps;\n    if (!isNullOrUndef(defaultProps)) {\n        if (!props) {\n            props = {}; // Props can be referenced and modified at application level so always create new object\n        }\n        for (var prop in defaultProps) {\n            if (isUndefined(props[prop])) {\n                props[prop] = defaultProps[prop];\n            }\n        }\n    }\n    if ((flags & 8 /* ComponentFunction */) > 0 && (flags & 32768 /* ForwardRef */) === 0) {\n        var defaultHooks = type.defaultHooks;\n        if (!isNullOrUndef(defaultHooks)) {\n            if (!ref) {\n                // As ref cannot be referenced from application level, we can use the same refs object\n                ref = defaultHooks;\n            }\n            else {\n                for (var prop$1 in defaultHooks) {\n                    if (isUndefined(ref[prop$1])) {\n                        ref[prop$1] = defaultHooks[prop$1];\n                    }\n                }\n            }\n        }\n    }\n    var vNode = new V(1 /* HasInvalidChildren */, null, null, flags, key, props, ref, type);\n    var optsVNode = options.createVNode;\n    if (isFunction(optsVNode)) {\n        optsVNode(vNode);\n    }\n    return vNode;\n}\nfunction createTextVNode(text, key) {\n    return new V(1 /* HasInvalidChildren */, isNullOrUndef(text) ? '' : text, null, 16 /* Text */, key, null, null, null);\n}\nfunction createFragment(children, childFlags, key) {\n    var fragment = createVNode(8192 /* Fragment */, 8192 /* Fragment */, null, children, childFlags, null, key, null);\n    switch (fragment.childFlags) {\n        case 1 /* HasInvalidChildren */:\n            fragment.children = createVoidVNode();\n            fragment.childFlags = 2 /* HasVNodeChildren */;\n            break;\n        case 16 /* HasTextChildren */:\n            fragment.children = [createTextVNode(children)];\n            fragment.childFlags = 4 /* HasNonKeyedChildren */;\n            break;\n        default:\n            break;\n    }\n    return fragment;\n}\nfunction normalizeProps(vNode) {\n    var props = vNode.props;\n    if (props) {\n        var flags = vNode.flags;\n        if (flags & 481 /* Element */) {\n            if (props.children !== void 0 && isNullOrUndef(vNode.children)) {\n                normalizeChildren(vNode, props.children);\n            }\n            if (props.className !== void 0) {\n                vNode.className = props.className || null;\n                props.className = undefined;\n            }\n        }\n        if (props.key !== void 0) {\n            vNode.key = props.key;\n            props.key = undefined;\n        }\n        if (props.ref !== void 0) {\n            if (flags & 8 /* ComponentFunction */) {\n                vNode.ref = combineFrom(vNode.ref, props.ref);\n            }\n            else {\n                vNode.ref = props.ref;\n            }\n            props.ref = undefined;\n        }\n    }\n    return vNode;\n}\n/*\n * Fragment is different than normal vNode,\n * because when it needs to be cloned we need to clone its children too\n * But not normalize, because otherwise those possibly get KEY and re-mount\n */\nfunction cloneFragment(vNodeToClone) {\n    var clonedChildren;\n    var oldChildren = vNodeToClone.children;\n    var childFlags = vNodeToClone.childFlags;\n    if (childFlags === 2 /* HasVNodeChildren */) {\n        clonedChildren = directClone(oldChildren);\n    }\n    else if (childFlags & 12 /* MultipleChildren */) {\n        clonedChildren = [];\n        for (var i = 0, len = oldChildren.length; i < len; i++) {\n            clonedChildren.push(directClone(oldChildren[i]));\n        }\n    }\n    return createFragment(clonedChildren, childFlags, vNodeToClone.key);\n}\nfunction directClone(vNodeToClone) {\n    var flags = vNodeToClone.flags & -81921 /* ClearInUseNormalized */;\n    var props = vNodeToClone.props;\n    if (flags & 14 /* Component */) {\n        if (!isNull(props)) {\n            var propsToClone = props;\n            props = {};\n            for (var key in propsToClone) {\n                props[key] = propsToClone[key];\n            }\n        }\n    }\n    if ((flags & 8192 /* Fragment */) === 0) {\n        return new V(vNodeToClone.childFlags, vNodeToClone.children, vNodeToClone.className, flags, vNodeToClone.key, props, vNodeToClone.ref, vNodeToClone.type);\n    }\n    return cloneFragment(vNodeToClone);\n}\nfunction createVoidVNode() {\n    return createTextVNode('', null);\n}\nfunction createPortal(children, container) {\n    return createVNode(1024 /* Portal */, 1024 /* Portal */, null, children, 0 /* UnknownChildren */, null, isInvalid(children) ? null : children.key, container);\n}\nfunction _normalizeVNodes(nodes, result, index, currentKey) {\n    for (var len = nodes.length; index < len; index++) {\n        var n = nodes[index];\n        if (!isInvalid(n)) {\n            var newKey = currentKey + keyPrefix + index;\n            if (isArray(n)) {\n                _normalizeVNodes(n, result, 0, newKey);\n            }\n            else {\n                if (isStringOrNumber(n)) {\n                    n = createTextVNode(n, newKey);\n                }\n                else {\n                    var oldKey = n.key;\n                    var isPrefixedKey = isString(oldKey) && oldKey[0] === keyPrefix;\n                    if (n.flags & 81920 /* InUseOrNormalized */ || isPrefixedKey) {\n                        n = directClone(n);\n                    }\n                    n.flags |= 65536 /* Normalized */;\n                    if (isNull(oldKey) || isPrefixedKey) {\n                        n.key = newKey;\n                    }\n                    else {\n                        n.key = currentKey + oldKey;\n                    }\n                }\n                result.push(n);\n            }\n        }\n    }\n}\nfunction getFlagsForElementVnode(type) {\n    switch (type) {\n        case 'svg':\n            return 32 /* SvgElement */;\n        case 'input':\n            return 64 /* InputElement */;\n        case 'select':\n            return 256 /* SelectElement */;\n        case 'textarea':\n            return 128 /* TextareaElement */;\n        case Fragment:\n            return 8192 /* Fragment */;\n        default:\n            return 1 /* HtmlElement */;\n    }\n}\nfunction normalizeChildren(vNode, children) {\n    var newChildren;\n    var newChildFlags = 1 /* HasInvalidChildren */;\n    // Don't change children to match strict equal (===) true in patching\n    if (isInvalid(children)) {\n        newChildren = children;\n    }\n    else if (isStringOrNumber(children)) {\n        newChildFlags = 16 /* HasTextChildren */;\n        newChildren = children;\n    }\n    else if (isArray(children)) {\n        var len = children.length;\n        for (var i = 0; i < len; i++) {\n            var n = children[i];\n            if (isInvalid(n) || isArray(n)) {\n                newChildren = newChildren || children.slice(0, i);\n                _normalizeVNodes(children, newChildren, i, '');\n                break;\n            }\n            else if (isStringOrNumber(n)) {\n                newChildren = newChildren || children.slice(0, i);\n                newChildren.push(createTextVNode(n, keyPrefix + i));\n            }\n            else {\n                var key = n.key;\n                var needsCloning = (n.flags & 81920 /* InUseOrNormalized */) > 0;\n                var isNullKey = isNull(key);\n                var isPrefixed = !isNullKey && isString(key) && key[0] === keyPrefix;\n                if (needsCloning || isNullKey || isPrefixed) {\n                    newChildren = newChildren || children.slice(0, i);\n                    if (needsCloning || isPrefixed) {\n                        n = directClone(n);\n                    }\n                    if (isNullKey || isPrefixed) {\n                        n.key = keyPrefix + i;\n                    }\n                    newChildren.push(n);\n                }\n                else if (newChildren) {\n                    newChildren.push(n);\n                }\n                n.flags |= 65536 /* Normalized */;\n            }\n        }\n        newChildren = newChildren || children;\n        if (newChildren.length === 0) {\n            newChildFlags = 1 /* HasInvalidChildren */;\n        }\n        else {\n            newChildFlags = 8 /* HasKeyedChildren */;\n        }\n    }\n    else {\n        newChildren = children;\n        newChildren.flags |= 65536 /* Normalized */;\n        if (children.flags & 81920 /* InUseOrNormalized */) {\n            newChildren = directClone(children);\n        }\n        newChildFlags = 2 /* HasVNodeChildren */;\n    }\n    vNode.children = newChildren;\n    vNode.childFlags = newChildFlags;\n    return vNode;\n}\n\n/**\n * Links given data to event as first parameter\n * @param {*} data data to be linked, it will be available in function as first parameter\n * @param {Function} event Function to be called when event occurs\n * @returns {{data: *, event: Function}}\n */\nfunction linkEvent(data, event) {\n    if (isFunction(event)) {\n        return { data: data, event: event };\n    }\n    return null; // Return null when event is invalid, to avoid creating unnecessary event handlers\n}\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\nvar xmlNS = 'http://www.w3.org/XML/1998/namespace';\nvar namespaces = {\n    'xlink:actuate': xlinkNS,\n    'xlink:arcrole': xlinkNS,\n    'xlink:href': xlinkNS,\n    'xlink:role': xlinkNS,\n    'xlink:show': xlinkNS,\n    'xlink:title': xlinkNS,\n    'xlink:type': xlinkNS,\n    'xml:base': xmlNS,\n    'xml:lang': xmlNS,\n    'xml:space': xmlNS\n};\n\nvar attachedEventCounts = {};\nvar attachedEvents = {};\nfunction handleEvent(name, nextEvent, dom) {\n    var eventsObject = dom.$EV;\n    if (nextEvent) {\n        if (!attachedEventCounts[name]) {\n            attachedEvents[name] = attachEventToDocument(name);\n            attachedEventCounts[name] = 0;\n        }\n        if (!eventsObject) {\n            eventsObject = dom.$EV = {};\n        }\n        if (!eventsObject[name]) {\n            attachedEventCounts[name]++;\n        }\n        eventsObject[name] = nextEvent;\n    }\n    else if (eventsObject && eventsObject[name]) {\n        if (--attachedEventCounts[name] === 0) {\n            document.removeEventListener(normalizeEventName(name), attachedEvents[name]);\n            attachedEvents[name] = null;\n        }\n        eventsObject[name] = nextEvent;\n    }\n}\nfunction dispatchEvents(event, target, isClick, name, eventData) {\n    var dom = target;\n    while (!isNull(dom)) {\n        // Html Nodes can be nested fe: span inside button in that scenario browser does not handle disabled attribute on parent,\n        // because the event listener is on document.body\n        // Don't process clicks on disabled elements\n        if (isClick && dom.disabled) {\n            return;\n        }\n        var eventsObject = dom.$EV;\n        if (eventsObject) {\n            var currentEvent = eventsObject[name];\n            if (currentEvent) {\n                // linkEvent object\n                eventData.dom = dom;\n                if (currentEvent.event) {\n                    currentEvent.event(currentEvent.data, event);\n                }\n                else {\n                    currentEvent(event);\n                }\n                if (event.cancelBubble) {\n                    return;\n                }\n            }\n        }\n        dom = dom.parentNode;\n    }\n}\nfunction normalizeEventName(name) {\n    return name.substr(2).toLowerCase();\n}\nfunction stopPropagation() {\n    this.cancelBubble = true;\n    if (!this.immediatePropagationStopped) {\n        this.stopImmediatePropagation();\n    }\n}\nfunction attachEventToDocument(name) {\n    var docEvent = function (event) {\n        var isClick = name === 'onClick' || name === 'onDblClick';\n        if (isClick && event.button !== 0) {\n            // Firefox incorrectly triggers click event for mid/right mouse buttons.\n            // This bug has been active for 12 years.\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=184051\n            event.stopPropagation();\n            return;\n        }\n        event.stopPropagation = stopPropagation;\n        // Event data needs to be object to save reference to currentTarget getter\n        var eventData = {\n            dom: document\n        };\n        Object.defineProperty(event, 'currentTarget', {\n            configurable: true,\n            get: function get() {\n                return eventData.dom;\n            }\n        });\n        dispatchEvents(event, event.target, isClick, name, eventData);\n    };\n    document.addEventListener(normalizeEventName(name), docEvent);\n    return docEvent;\n}\n\nfunction isSameInnerHTML(dom, innerHTML) {\n    var tempdom = document.createElement('i');\n    tempdom.innerHTML = innerHTML;\n    return tempdom.innerHTML === dom.innerHTML;\n}\n\nfunction triggerEventListener(props, methodName, e) {\n    if (props[methodName]) {\n        var listener = props[methodName];\n        if (listener.event) {\n            listener.event(listener.data, e);\n        }\n        else {\n            listener(e);\n        }\n    }\n    else {\n        var nativeListenerName = methodName.toLowerCase();\n        if (props[nativeListenerName]) {\n            props[nativeListenerName](e);\n        }\n    }\n}\nfunction createWrappedFunction(methodName, applyValue) {\n    var fnMethod = function (e) {\n        var vNode = this.$V;\n        // If vNode is gone by the time event fires, no-op\n        if (!vNode) {\n            return;\n        }\n        var props = vNode.props || EMPTY_OBJ;\n        var dom = vNode.dom;\n        if (isString(methodName)) {\n            triggerEventListener(props, methodName, e);\n        }\n        else {\n            for (var i = 0; i < methodName.length; i++) {\n                triggerEventListener(props, methodName[i], e);\n            }\n        }\n        if (isFunction(applyValue)) {\n            var newVNode = this.$V;\n            var newProps = newVNode.props || EMPTY_OBJ;\n            applyValue(newProps, dom, false, newVNode);\n        }\n    };\n    Object.defineProperty(fnMethod, 'wrapped', {\n        configurable: false,\n        enumerable: false,\n        value: true,\n        writable: false\n    });\n    return fnMethod;\n}\n\nfunction isCheckedType(type) {\n    return type === 'checkbox' || type === 'radio';\n}\nvar onTextInputChange = createWrappedFunction('onInput', applyValueInput);\nvar wrappedOnChange = createWrappedFunction(['onClick', 'onChange'], applyValueInput);\n/* tslint:disable-next-line:no-empty */\nfunction emptywrapper(event) {\n    event.stopPropagation();\n}\nemptywrapper.wrapped = true;\nfunction inputEvents(dom, nextPropsOrEmpty) {\n    if (isCheckedType(nextPropsOrEmpty.type)) {\n        dom.onchange = wrappedOnChange;\n        dom.onclick = emptywrapper;\n    }\n    else {\n        dom.oninput = onTextInputChange;\n    }\n}\nfunction applyValueInput(nextPropsOrEmpty, dom) {\n    var type = nextPropsOrEmpty.type;\n    var value = nextPropsOrEmpty.value;\n    var checked = nextPropsOrEmpty.checked;\n    var multiple = nextPropsOrEmpty.multiple;\n    var defaultValue = nextPropsOrEmpty.defaultValue;\n    var hasValue = !isNullOrUndef(value);\n    if (type && type !== dom.type) {\n        dom.setAttribute('type', type);\n    }\n    if (!isNullOrUndef(multiple) && multiple !== dom.multiple) {\n        dom.multiple = multiple;\n    }\n    if (!isNullOrUndef(defaultValue) && !hasValue) {\n        dom.defaultValue = defaultValue + '';\n    }\n    if (isCheckedType(type)) {\n        if (hasValue) {\n            dom.value = value;\n        }\n        if (!isNullOrUndef(checked)) {\n            dom.checked = checked;\n        }\n    }\n    else {\n        if (hasValue && dom.value !== value) {\n            dom.defaultValue = value;\n            dom.value = value;\n        }\n        else if (!isNullOrUndef(checked)) {\n            dom.checked = checked;\n        }\n    }\n}\n\nfunction updateChildOptions(vNode, value) {\n    if (vNode.type === 'option') {\n        updateChildOption(vNode, value);\n    }\n    else {\n        var children = vNode.children;\n        var flags = vNode.flags;\n        if (flags & 4 /* ComponentClass */) {\n            updateChildOptions(children.$LI, value);\n        }\n        else if (flags & 8 /* ComponentFunction */) {\n            updateChildOptions(children, value);\n        }\n        else if (vNode.childFlags === 2 /* HasVNodeChildren */) {\n            updateChildOptions(children, value);\n        }\n        else if (vNode.childFlags & 12 /* MultipleChildren */) {\n            for (var i = 0, len = children.length; i < len; i++) {\n                updateChildOptions(children[i], value);\n            }\n        }\n    }\n}\nfunction updateChildOption(vNode, value) {\n    var props = vNode.props || EMPTY_OBJ;\n    var dom = vNode.dom;\n    // we do this as multiple may have changed\n    dom.value = props.value;\n    if (props.value === value || (isArray(value) && value.indexOf(props.value) !== -1)) {\n        dom.selected = true;\n    }\n    else if (!isNullOrUndef(value) || !isNullOrUndef(props.selected)) {\n        dom.selected = props.selected || false;\n    }\n}\nvar onSelectChange = createWrappedFunction('onChange', applyValueSelect);\nfunction selectEvents(dom) {\n    dom.onchange = onSelectChange;\n}\nfunction applyValueSelect(nextPropsOrEmpty, dom, mounting, vNode) {\n    var multiplePropInBoolean = Boolean(nextPropsOrEmpty.multiple);\n    if (!isNullOrUndef(nextPropsOrEmpty.multiple) && multiplePropInBoolean !== dom.multiple) {\n        dom.multiple = multiplePropInBoolean;\n    }\n    var childFlags = vNode.childFlags;\n    if (childFlags !== 1 /* HasInvalidChildren */) {\n        var value = nextPropsOrEmpty.value;\n        if (mounting && isNullOrUndef(value)) {\n            value = nextPropsOrEmpty.defaultValue;\n        }\n        updateChildOptions(vNode, value);\n    }\n}\n\nvar onTextareaInputChange = createWrappedFunction('onInput', applyValueTextArea);\nvar wrappedOnChange$1 = createWrappedFunction('onChange');\nfunction textAreaEvents(dom, nextPropsOrEmpty) {\n    dom.oninput = onTextareaInputChange;\n    if (nextPropsOrEmpty.onChange) {\n        dom.onchange = wrappedOnChange$1;\n    }\n}\nfunction applyValueTextArea(nextPropsOrEmpty, dom, mounting) {\n    var value = nextPropsOrEmpty.value;\n    var domValue = dom.value;\n    if (isNullOrUndef(value)) {\n        if (mounting) {\n            var defaultValue = nextPropsOrEmpty.defaultValue;\n            if (!isNullOrUndef(defaultValue) && defaultValue !== domValue) {\n                dom.defaultValue = defaultValue;\n                dom.value = defaultValue;\n            }\n        }\n    }\n    else if (domValue !== value) {\n        /* There is value so keep it controlled */\n        dom.defaultValue = value;\n        dom.value = value;\n    }\n}\n\n/**\n * There is currently no support for switching same input between controlled and nonControlled\n * If that ever becomes a real issue, then re design controlled elements\n * Currently user must choose either controlled or non-controlled and stick with that\n */\nfunction processElement(flags, vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\n    if (flags & 64 /* InputElement */) {\n        applyValueInput(nextPropsOrEmpty, dom);\n    }\n    else if (flags & 256 /* SelectElement */) {\n        applyValueSelect(nextPropsOrEmpty, dom, mounting, vNode);\n    }\n    else if (flags & 128 /* TextareaElement */) {\n        applyValueTextArea(nextPropsOrEmpty, dom, mounting);\n    }\n    if (isControlled) {\n        dom.$V = vNode;\n    }\n}\nfunction addFormElementEventHandlers(flags, dom, nextPropsOrEmpty) {\n    if (flags & 64 /* InputElement */) {\n        inputEvents(dom, nextPropsOrEmpty);\n    }\n    else if (flags & 256 /* SelectElement */) {\n        selectEvents(dom);\n    }\n    else if (flags & 128 /* TextareaElement */) {\n        textAreaEvents(dom, nextPropsOrEmpty);\n    }\n}\nfunction isControlledFormElement(nextPropsOrEmpty) {\n    return nextPropsOrEmpty.type && isCheckedType(nextPropsOrEmpty.type) ? !isNullOrUndef(nextPropsOrEmpty.checked) : !isNullOrUndef(nextPropsOrEmpty.value);\n}\n\nfunction createRef() {\n    return {\n        current: null\n    };\n}\nfunction forwardRef(render) {\n    {\n        return {\n            render: render\n        };\n    }\n    if (!isFunction(render)) {\n        warning((\"forwardRef requires a render function but was given \" + (render === null ? 'null' : typeof render) + \".\"));\n        return;\n    }\n    var fwRef = {\n        render: render\n    };\n    Object.seal(fwRef);\n    return fwRef;\n}\nfunction pushRef(dom, value) {\n    LIFECYCLE.push(function () { return value(dom); });\n}\nfunction unmountRef(ref) {\n    if (ref) {\n        if (isFunction(ref)) {\n            ref(null);\n        }\n        else if (ref.current) {\n            ref.current = null;\n        }\n    }\n}\nfunction mountRef(ref, value) {\n    if (ref) {\n        if (isFunction(ref)) {\n            pushRef(value, ref);\n        }\n        else if (ref.current !== void 0) {\n            ref.current = value;\n        }\n    }\n}\n\nfunction remove(vNode, parentDOM) {\n    unmount(vNode);\n    if (parentDOM) {\n        removeVNodeDOM(vNode, parentDOM);\n    }\n}\nfunction unmount(vNode) {\n    var flags = vNode.flags;\n    var children = vNode.children;\n    var ref;\n    if (flags & 481 /* Element */) {\n        ref = vNode.ref;\n        var props = vNode.props;\n        unmountRef(ref);\n        var childFlags = vNode.childFlags;\n        if (!isNull(props)) {\n            for (var name in props) {\n                switch (name) {\n                    case 'onClick':\n                    case 'onDblClick':\n                    case 'onFocusIn':\n                    case 'onFocusOut':\n                    case 'onKeyDown':\n                    case 'onKeyPress':\n                    case 'onKeyUp':\n                    case 'onMouseDown':\n                    case 'onMouseMove':\n                    case 'onMouseUp':\n                    case 'onSubmit':\n                    case 'onTouchEnd':\n                    case 'onTouchMove':\n                    case 'onTouchStart':\n                        handleEvent(name, null, vNode.dom);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n        if (childFlags & 12 /* MultipleChildren */) {\n            unmountAllChildren(children);\n        }\n        else if (childFlags === 2 /* HasVNodeChildren */) {\n            unmount(children);\n        }\n    }\n    else if (children) {\n        if (flags & 4 /* ComponentClass */) {\n            if (isFunction(children.componentWillUnmount)) {\n                children.componentWillUnmount();\n            }\n            unmountRef(vNode.ref);\n            children.$UN = true;\n            unmount(children.$LI);\n        }\n        else if (flags & 8 /* ComponentFunction */) {\n            ref = vNode.ref;\n            if (!isNullOrUndef(ref) && isFunction(ref.onComponentWillUnmount)) {\n                ref.onComponentWillUnmount(findDOMfromVNode(vNode), vNode.props || EMPTY_OBJ);\n            }\n            unmount(children);\n        }\n        else if (flags & 1024 /* Portal */) {\n            remove(children, vNode.ref);\n        }\n        else if (flags & 8192 /* Fragment */) {\n            if (vNode.childFlags & 12 /* MultipleChildren */) {\n                unmountAllChildren(children);\n            }\n        }\n    }\n}\nfunction unmountAllChildren(children) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        unmount(children[i]);\n    }\n}\nfunction clearDOM(dom) {\n    // Optimization for clearing dom\n    dom.textContent = '';\n}\nfunction removeAllChildren(dom, vNode, children) {\n    unmountAllChildren(children);\n    if (vNode.flags & 8192 /* Fragment */) {\n        removeVNodeDOM(vNode, dom);\n    }\n    else {\n        clearDOM(dom);\n    }\n}\n\nfunction createLinkEvent(linkEvent, nextValue) {\n    return function (e) {\n        linkEvent(nextValue.data, e);\n    };\n}\nfunction patchEvent(name, nextValue, dom) {\n    var nameLowerCase = name.toLowerCase();\n    if (!isFunction(nextValue) && !isNullOrUndef(nextValue)) {\n        var linkEvent = nextValue.event;\n        if (linkEvent && isFunction(linkEvent)) {\n            dom[nameLowerCase] = createLinkEvent(linkEvent, nextValue);\n        }\n    }\n    else {\n        var domEvent = dom[nameLowerCase];\n        // if the function is wrapped, that means it's been controlled by a wrapper\n        if (!domEvent || !domEvent.wrapped) {\n            dom[nameLowerCase] = nextValue;\n        }\n    }\n}\n// We are assuming here that we come from patchProp routine\n// -nextAttrValue cannot be null or undefined\nfunction patchStyle(lastAttrValue, nextAttrValue, dom) {\n    if (isNullOrUndef(nextAttrValue)) {\n        dom.removeAttribute('style');\n        return;\n    }\n    var domStyle = dom.style;\n    var style;\n    var value;\n    if (isString(nextAttrValue)) {\n        domStyle.cssText = nextAttrValue;\n        return;\n    }\n    if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\n        for (style in nextAttrValue) {\n            // do not add a hasOwnProperty check here, it affects performance\n            value = nextAttrValue[style];\n            if (value !== lastAttrValue[style]) {\n                domStyle.setProperty(style, value);\n            }\n        }\n        for (style in lastAttrValue) {\n            if (isNullOrUndef(nextAttrValue[style])) {\n                domStyle.removeProperty(style);\n            }\n        }\n    }\n    else {\n        for (style in nextAttrValue) {\n            value = nextAttrValue[style];\n            domStyle.setProperty(style, value);\n        }\n    }\n}\nfunction patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue, lastVNode) {\n    switch (prop) {\n        case 'onClick':\n        case 'onDblClick':\n        case 'onFocusIn':\n        case 'onFocusOut':\n        case 'onKeyDown':\n        case 'onKeyPress':\n        case 'onKeyUp':\n        case 'onMouseDown':\n        case 'onMouseMove':\n        case 'onMouseUp':\n        case 'onSubmit':\n        case 'onTouchEnd':\n        case 'onTouchMove':\n        case 'onTouchStart':\n            handleEvent(prop, nextValue, dom);\n            break;\n        case 'children':\n        case 'childrenType':\n        case 'className':\n        case 'defaultValue':\n        case 'key':\n        case 'multiple':\n        case 'ref':\n            break;\n        case 'autoFocus':\n            dom.autofocus = !!nextValue;\n            break;\n        case 'allowfullscreen':\n        case 'autoplay':\n        case 'capture':\n        case 'checked':\n        case 'controls':\n        case 'default':\n        case 'disabled':\n        case 'hidden':\n        case 'indeterminate':\n        case 'loop':\n        case 'muted':\n        case 'novalidate':\n        case 'open':\n        case 'readOnly':\n        case 'required':\n        case 'reversed':\n        case 'scoped':\n        case 'seamless':\n        case 'selected':\n            dom[prop] = !!nextValue;\n            break;\n        case 'defaultChecked':\n        case 'value':\n        case 'volume':\n            if (hasControlledValue && prop === 'value') {\n                return;\n            }\n            var value = isNullOrUndef(nextValue) ? '' : nextValue;\n            if (dom[prop] !== value) {\n                dom[prop] = value;\n            }\n            break;\n        case 'style':\n            patchStyle(lastValue, nextValue, dom);\n            break;\n        case 'dangerouslySetInnerHTML':\n            var lastHtml = (lastValue && lastValue.__html) || '';\n            var nextHtml = (nextValue && nextValue.__html) || '';\n            if (lastHtml !== nextHtml) {\n                if (!isNullOrUndef(nextHtml) && !isSameInnerHTML(dom, nextHtml)) {\n                    if (!isNull(lastVNode)) {\n                        if (lastVNode.childFlags & 12 /* MultipleChildren */) {\n                            unmountAllChildren(lastVNode.children);\n                        }\n                        else if (lastVNode.childFlags === 2 /* HasVNodeChildren */) {\n                            unmount(lastVNode.children);\n                        }\n                        lastVNode.children = null;\n                        lastVNode.childFlags = 1 /* HasInvalidChildren */;\n                    }\n                    dom.innerHTML = nextHtml;\n                }\n            }\n            break;\n        default:\n            if (prop.charCodeAt(0) === 111 && prop.charCodeAt(1) === 110) {\n                patchEvent(prop, nextValue, dom);\n            }\n            else if (isNullOrUndef(nextValue)) {\n                dom.removeAttribute(prop);\n            }\n            else if (isSVG && namespaces[prop]) {\n                // We optimize for isSVG being false\n                // If we end up in this path we can read property again\n                dom.setAttributeNS(namespaces[prop], prop, nextValue);\n            }\n            else {\n                dom.setAttribute(prop, nextValue);\n            }\n            break;\n    }\n}\nfunction mountProps(vNode, flags, props, dom, isSVG) {\n    var hasControlledValue = false;\n    var isFormElement = (flags & 448 /* FormElement */) > 0;\n    if (isFormElement) {\n        hasControlledValue = isControlledFormElement(props);\n        if (hasControlledValue) {\n            addFormElementEventHandlers(flags, dom, props);\n        }\n    }\n    for (var prop in props) {\n        // do not add a hasOwnProperty check here, it affects performance\n        patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue, null);\n    }\n    if (isFormElement) {\n        processElement(flags, vNode, dom, props, true, hasControlledValue);\n    }\n}\n\nfunction renderNewInput(instance, props, context) {\n    var nextInput = handleComponentInput(instance.render(props, instance.state, context));\n    var childContext = context;\n    if (isFunction(instance.getChildContext)) {\n        childContext = combineFrom(context, instance.getChildContext());\n    }\n    instance.$CX = childContext;\n    return nextInput;\n}\nfunction createClassComponentInstance(vNode, Component, props, context) {\n    var instance = new Component(props, context);\n    var usesNewAPI = (instance.$N = Boolean(Component.getDerivedStateFromProps || instance.getSnapshotBeforeUpdate));\n    vNode.children = instance;\n    instance.$BS = false;\n    instance.context = context;\n    if (instance.props === EMPTY_OBJ) {\n        instance.props = props;\n    }\n    if (!usesNewAPI) {\n        if (isFunction(instance.componentWillMount)) {\n            instance.$BR = true;\n            instance.componentWillMount();\n            if (instance.$PSS) {\n                var state = instance.state;\n                var pending = instance.$PS;\n                if (isNull(state)) {\n                    instance.state = pending;\n                }\n                else {\n                    for (var key in pending) {\n                        state[key] = pending[key];\n                    }\n                }\n                instance.$PSS = false;\n                instance.$PS = null;\n            }\n            instance.$BR = false;\n        }\n    }\n    else {\n        instance.state = createDerivedState(instance, props, instance.state);\n    }\n    instance.$LI = renderNewInput(instance, props, context);\n    return instance;\n}\nfunction handleComponentInput(input) {\n    if (isInvalid(input)) {\n        input = createVoidVNode();\n    }\n    else if (isStringOrNumber(input)) {\n        input = createTextVNode(input, null);\n    }\n    else if (isArray(input)) {\n        input = createFragment(input, 0 /* UnknownChildren */, null);\n    }\n    else if (input.flags & 16384 /* InUse */) {\n        input = directClone(input);\n    }\n    return input;\n}\n\nfunction mount(vNode, parentDOM, context, isSVG, nextNode) {\n    var flags = (vNode.flags |= 16384 /* InUse */);\n    if (flags & 481 /* Element */) {\n        mountElement(vNode, parentDOM, context, isSVG, nextNode);\n    }\n    else if (flags & 4 /* ComponentClass */) {\n        mountClassComponent(vNode, parentDOM, context, isSVG, nextNode);\n    }\n    else if (flags & 8 /* ComponentFunction */) {\n        mountFunctionalComponent(vNode, parentDOM, context, isSVG, nextNode);\n    }\n    else if (flags & 512 /* Void */ || flags & 16 /* Text */) {\n        mountText(vNode, parentDOM, nextNode);\n    }\n    else if (flags & 8192 /* Fragment */) {\n        mountFragment(vNode, parentDOM, context, isSVG, nextNode);\n    }\n    else if (flags & 1024 /* Portal */) {\n        mountPortal(vNode, context, parentDOM, nextNode);\n    }\n}\nfunction mountPortal(vNode, context, parentDOM, nextNode) {\n    mount(vNode.children, vNode.ref, context, false, null);\n    var placeHolderVNode = createVoidVNode();\n    mountText(placeHolderVNode, parentDOM, nextNode);\n    vNode.dom = placeHolderVNode.dom;\n}\nfunction mountFragment(vNode, parentDOM, context, isSVG, nextNode) {\n    var children = vNode.children;\n    if (vNode.childFlags === 2 /* HasVNodeChildren */) {\n        mount(children, parentDOM, nextNode, isSVG, nextNode);\n    }\n    else {\n        mountArrayChildren(children, parentDOM, context, isSVG, nextNode);\n    }\n}\nfunction mountText(vNode, parentDOM, nextNode) {\n    var dom = (vNode.dom = document.createTextNode(vNode.children));\n    if (!isNull(parentDOM)) {\n        insertOrAppend(parentDOM, dom, nextNode);\n    }\n}\nfunction mountTextContent(dom, children) {\n    dom.textContent = children;\n}\nfunction mountElement(vNode, parentDOM, context, isSVG, nextNode) {\n    var flags = vNode.flags;\n    var props = vNode.props;\n    var className = vNode.className;\n    var ref = vNode.ref;\n    var children = vNode.children;\n    var childFlags = vNode.childFlags;\n    isSVG = isSVG || (flags & 32 /* SvgElement */) > 0;\n    var dom = documentCreateElement(vNode.type, isSVG);\n    vNode.dom = dom;\n    if (!isNullOrUndef(className) && className !== '') {\n        if (isSVG) {\n            dom.setAttribute('class', className);\n        }\n        else {\n            dom.className = className;\n        }\n    }\n    if (childFlags === 16 /* HasTextChildren */) {\n        mountTextContent(dom, children);\n    }\n    else if (childFlags !== 1 /* HasInvalidChildren */) {\n        var childrenIsSVG = isSVG && vNode.type !== 'foreignObject';\n        if (childFlags === 2 /* HasVNodeChildren */) {\n            if (children.flags & 16384 /* InUse */) {\n                vNode.children = children = directClone(children);\n            }\n            mount(children, dom, context, childrenIsSVG, null);\n        }\n        else if (childFlags === 8 /* HasKeyedChildren */ || childFlags === 4 /* HasNonKeyedChildren */) {\n            mountArrayChildren(children, dom, context, childrenIsSVG, null);\n        }\n    }\n    if (!isNull(parentDOM)) {\n        insertOrAppend(parentDOM, dom, nextNode);\n    }\n    if (!isNull(props)) {\n        mountProps(vNode, flags, props, dom, isSVG);\n    }\n    mountRef(ref, dom);\n}\nfunction mountArrayChildren(children, dom, context, isSVG, nextNode) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        var child = children[i];\n        if (child.flags & 16384 /* InUse */) {\n            children[i] = child = directClone(child);\n        }\n        mount(child, dom, context, isSVG, nextNode);\n    }\n}\nfunction mountClassComponent(vNode, parentDOM, context, isSVG, nextNode) {\n    var instance = createClassComponentInstance(vNode, vNode.type, vNode.props || EMPTY_OBJ, context);\n    mount(instance.$LI, parentDOM, instance.$CX, isSVG, nextNode);\n    mountClassComponentCallbacks(vNode.ref, instance);\n    instance.$UPD = false;\n}\nfunction mountFunctionalComponent(vNode, parentDOM, context, isSVG, nextNode) {\n    var type = vNode.type;\n    var props = vNode.props || EMPTY_OBJ;\n    var ref = vNode.ref;\n    var input = handleComponentInput(vNode.flags & 32768 /* ForwardRef */ ? type(props, ref, context) : type(props, context));\n    vNode.children = input;\n    mount(input, parentDOM, context, isSVG, nextNode);\n    mountFunctionalComponentCallbacks(props, ref, vNode);\n}\nfunction createClassMountCallback(instance) {\n    return function () {\n        instance.$UPD = true;\n        instance.componentDidMount();\n        instance.$UPD = false;\n    };\n}\nfunction mountClassComponentCallbacks(ref, instance) {\n    mountRef(ref, instance);\n    if (isFunction(instance.componentDidMount)) {\n        LIFECYCLE.push(createClassMountCallback(instance));\n    }\n}\nfunction createOnMountCallback(ref, vNode, props) {\n    return function () { return ref.onComponentDidMount(findDOMfromVNode(vNode), props); };\n}\nfunction mountFunctionalComponentCallbacks(props, ref, vNode) {\n    if (!isNullOrUndef(ref)) {\n        if (isFunction(ref.onComponentWillMount)) {\n            ref.onComponentWillMount(props);\n        }\n        if (isFunction(ref.onComponentDidMount)) {\n            LIFECYCLE.push(createOnMountCallback(ref, vNode, props));\n        }\n    }\n}\n\nfunction replaceWithNewNode(lastVNode, nextVNode, parentDOM, context, isSVG) {\n    unmount(lastVNode);\n    if ((nextVNode.flags & lastVNode.flags & 2033 /* DOMRef */) !== 0) {\n        // Single DOM operation, when we have dom references available\n        mount(nextVNode, null, context, isSVG, null);\n        // Single DOM operation, when we have dom references available\n        replaceChild(parentDOM, nextVNode.dom, lastVNode.dom);\n    }\n    else {\n        mount(nextVNode, parentDOM, context, isSVG, findDOMfromVNode(lastVNode));\n        removeVNodeDOM(lastVNode, parentDOM);\n    }\n}\nfunction patch(lastVNode, nextVNode, parentDOM, context, isSVG, nextNode) {\n    var nextFlags = (nextVNode.flags |= 16384 /* InUse */);\n    if (lastVNode.flags !== nextFlags || lastVNode.type !== nextVNode.type || lastVNode.key !== nextVNode.key || (nextFlags & 2048 /* ReCreate */) !== 0) {\n        if (lastVNode.flags & 16384 /* InUse */) {\n            replaceWithNewNode(lastVNode, nextVNode, parentDOM, context, isSVG);\n        }\n        else {\n            // Last vNode is not in use, it has crashed at application level. Just mount nextVNode and ignore last one\n            mount(nextVNode, parentDOM, context, isSVG, nextNode);\n        }\n    }\n    else if (nextFlags & 481 /* Element */) {\n        patchElement(lastVNode, nextVNode, context, isSVG, nextFlags);\n    }\n    else if (nextFlags & 4 /* ComponentClass */) {\n        patchClassComponent(lastVNode, nextVNode, parentDOM, context, isSVG, nextNode);\n    }\n    else if (nextFlags & 8 /* ComponentFunction */) {\n        patchFunctionalComponent(lastVNode, nextVNode, parentDOM, context, isSVG, nextNode);\n    }\n    else if (nextFlags & 16 /* Text */) {\n        patchText(lastVNode, nextVNode);\n    }\n    else if (nextFlags & 512 /* Void */) {\n        nextVNode.dom = lastVNode.dom;\n    }\n    else if (nextFlags & 8192 /* Fragment */) {\n        patchFragment(lastVNode, nextVNode, parentDOM, context, isSVG);\n    }\n    else {\n        patchPortal(lastVNode, nextVNode, context);\n    }\n}\nfunction patchSingleTextChild(lastChildren, nextChildren, parentDOM) {\n    if (lastChildren !== nextChildren) {\n        if (lastChildren !== '') {\n            parentDOM.firstChild.nodeValue = nextChildren;\n        }\n        else {\n            parentDOM.textContent = nextChildren;\n        }\n    }\n}\nfunction patchContentEditableChildren(dom, nextChildren) {\n    if (dom.textContent !== nextChildren) {\n        dom.textContent = nextChildren;\n    }\n}\nfunction patchFragment(lastVNode, nextVNode, parentDOM, context, isSVG) {\n    var lastChildren = lastVNode.children;\n    var nextNode = null;\n    if ((nextVNode.childFlags & 2 /* HasVNodeChildren */) === 0 && nextVNode.children.length > lastChildren.length) {\n        nextNode = findDOMfromVNode(lastChildren[lastChildren.length - 1]).nextSibling;\n    }\n    patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastChildren, nextVNode.children, parentDOM, context, isSVG, nextNode, lastVNode);\n}\nfunction patchPortal(lastVNode, nextVNode, context) {\n    var lastContainer = lastVNode.ref;\n    var nextContainer = nextVNode.ref;\n    var nextChildren = nextVNode.children;\n    patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastVNode.children, nextChildren, lastContainer, context, false, null, lastVNode);\n    nextVNode.dom = lastVNode.dom;\n    if (lastContainer !== nextContainer && !isInvalid(nextChildren)) {\n        var node = nextChildren.dom;\n        removeChild(lastContainer, node);\n        appendChild(nextContainer, node);\n    }\n}\nfunction patchElement(lastVNode, nextVNode, context, isSVG, nextFlags) {\n    var dom = lastVNode.dom;\n    var lastProps = lastVNode.props;\n    var nextProps = nextVNode.props;\n    var isFormElement = false;\n    var hasControlledValue = false;\n    var nextPropsOrEmpty;\n    nextVNode.dom = dom;\n    isSVG = isSVG || (nextFlags & 32 /* SvgElement */) > 0;\n    // inlined patchProps  -- starts --\n    if (lastProps !== nextProps) {\n        var lastPropsOrEmpty = lastProps || EMPTY_OBJ;\n        nextPropsOrEmpty = nextProps || EMPTY_OBJ;\n        if (nextPropsOrEmpty !== EMPTY_OBJ) {\n            isFormElement = (nextFlags & 448 /* FormElement */) > 0;\n            if (isFormElement) {\n                hasControlledValue = isControlledFormElement(nextPropsOrEmpty);\n            }\n            for (var prop in nextPropsOrEmpty) {\n                var lastValue = lastPropsOrEmpty[prop];\n                var nextValue = nextPropsOrEmpty[prop];\n                if (lastValue !== nextValue) {\n                    patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue, lastVNode);\n                }\n            }\n        }\n        if (lastPropsOrEmpty !== EMPTY_OBJ) {\n            for (var prop$1 in lastPropsOrEmpty) {\n                if (!nextPropsOrEmpty.hasOwnProperty(prop$1) && !isNullOrUndef(lastPropsOrEmpty[prop$1])) {\n                    patchProp(prop$1, lastPropsOrEmpty[prop$1], null, dom, isSVG, hasControlledValue, lastVNode);\n                }\n            }\n        }\n    }\n    var nextChildren = nextVNode.children;\n    var nextClassName = nextVNode.className;\n    var nextRef = nextVNode.ref;\n    var lastRef = lastVNode.ref;\n    // inlined patchProps  -- ends --\n    if (lastVNode.className !== nextClassName) {\n        if (isNullOrUndef(nextClassName)) {\n            dom.removeAttribute('class');\n        }\n        else if (isSVG) {\n            dom.setAttribute('class', nextClassName);\n        }\n        else {\n            dom.className = nextClassName;\n        }\n    }\n    if (nextFlags & 4096 /* ContentEditable */) {\n        patchContentEditableChildren(dom, nextChildren);\n    }\n    else {\n        patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastVNode.children, nextChildren, dom, context, isSVG && nextVNode.type !== 'foreignObject', null, lastVNode);\n    }\n    if (isFormElement) {\n        processElement(nextFlags, nextVNode, dom, nextPropsOrEmpty, false, hasControlledValue);\n    }\n    if (lastRef !== nextRef) {\n        unmountRef(lastRef);\n        mountRef(nextRef, dom);\n    }\n}\nfunction replaceOneVNodeWithMultipleVNodes(lastChildren, nextChildren, parentDOM, context, isSVG) {\n    unmount(lastChildren);\n    mountArrayChildren(nextChildren, parentDOM, context, isSVG, findDOMfromVNode(lastChildren));\n    removeVNodeDOM(lastChildren, parentDOM);\n}\nfunction patchChildren(lastChildFlags, nextChildFlags, lastChildren, nextChildren, parentDOM, context, isSVG, nextNode, parentVNode) {\n    switch (lastChildFlags) {\n        case 2 /* HasVNodeChildren */:\n            switch (nextChildFlags) {\n                case 2 /* HasVNodeChildren */:\n                    patch(lastChildren, nextChildren, parentDOM, context, isSVG, nextNode);\n                    break;\n                case 1 /* HasInvalidChildren */:\n                    remove(lastChildren, parentDOM);\n                    break;\n                case 16 /* HasTextChildren */:\n                    unmount(lastChildren);\n                    mountTextContent(parentDOM, nextChildren);\n                    break;\n                default:\n                    replaceOneVNodeWithMultipleVNodes(lastChildren, nextChildren, parentDOM, context, isSVG);\n                    break;\n            }\n            break;\n        case 1 /* HasInvalidChildren */:\n            switch (nextChildFlags) {\n                case 2 /* HasVNodeChildren */:\n                    mount(nextChildren, parentDOM, context, isSVG, nextNode);\n                    break;\n                case 1 /* HasInvalidChildren */:\n                    break;\n                case 16 /* HasTextChildren */:\n                    mountTextContent(parentDOM, nextChildren);\n                    break;\n                default:\n                    mountArrayChildren(nextChildren, parentDOM, context, isSVG, nextNode);\n                    break;\n            }\n            break;\n        case 16 /* HasTextChildren */:\n            switch (nextChildFlags) {\n                case 16 /* HasTextChildren */:\n                    patchSingleTextChild(lastChildren, nextChildren, parentDOM);\n                    break;\n                case 2 /* HasVNodeChildren */:\n                    clearDOM(parentDOM);\n                    mount(nextChildren, parentDOM, context, isSVG, nextNode);\n                    break;\n                case 1 /* HasInvalidChildren */:\n                    clearDOM(parentDOM);\n                    break;\n                default:\n                    clearDOM(parentDOM);\n                    mountArrayChildren(nextChildren, parentDOM, context, isSVG, nextNode);\n                    break;\n            }\n            break;\n        default:\n            switch (nextChildFlags) {\n                case 16 /* HasTextChildren */:\n                    unmountAllChildren(lastChildren);\n                    mountTextContent(parentDOM, nextChildren);\n                    break;\n                case 2 /* HasVNodeChildren */:\n                    removeAllChildren(parentDOM, parentVNode, lastChildren);\n                    mount(nextChildren, parentDOM, context, isSVG, nextNode);\n                    break;\n                case 1 /* HasInvalidChildren */:\n                    removeAllChildren(parentDOM, parentVNode, lastChildren);\n                    break;\n                default:\n                    var lastLength = lastChildren.length;\n                    var nextLength = nextChildren.length;\n                    // Fast path's for both algorithms\n                    if (lastLength === 0) {\n                        if (nextLength > 0) {\n                            mountArrayChildren(nextChildren, parentDOM, context, isSVG, nextNode);\n                        }\n                    }\n                    else if (nextLength === 0) {\n                        removeAllChildren(parentDOM, parentVNode, lastChildren);\n                    }\n                    else if (nextChildFlags === 8 /* HasKeyedChildren */ && lastChildFlags === 8 /* HasKeyedChildren */) {\n                        patchKeyedChildren(lastChildren, nextChildren, parentDOM, context, isSVG, lastLength, nextLength, nextNode, parentVNode);\n                    }\n                    else {\n                        patchNonKeyedChildren(lastChildren, nextChildren, parentDOM, context, isSVG, lastLength, nextLength, nextNode);\n                    }\n                    break;\n            }\n    }\n}\nfunction createDidUpdate(instance, lastProps, lastState, snapshot) {\n    LIFECYCLE.push(function () { return instance.componentDidUpdate(lastProps, lastState, snapshot); });\n}\nfunction updateClassComponent(instance, nextState, nextProps, parentDOM, context, isSVG, force, nextNode) {\n    var lastState = instance.state;\n    var lastProps = instance.props;\n    var usesNewAPI = Boolean(instance.$N);\n    var hasSCU = isFunction(instance.shouldComponentUpdate);\n    if (usesNewAPI) {\n        nextState = createDerivedState(instance, nextProps, nextState !== lastState ? combineFrom(lastState, nextState) : nextState);\n    }\n    if (force || !hasSCU || (hasSCU && instance.shouldComponentUpdate(nextProps, nextState, context))) {\n        if (!usesNewAPI && isFunction(instance.componentWillUpdate)) {\n            instance.componentWillUpdate(nextProps, nextState, context);\n        }\n        instance.props = nextProps;\n        instance.state = nextState;\n        instance.context = context;\n        var snapshot = null;\n        var nextInput = renderNewInput(instance, nextProps, context);\n        if (usesNewAPI && isFunction(instance.getSnapshotBeforeUpdate)) {\n            snapshot = instance.getSnapshotBeforeUpdate(lastProps, lastState);\n        }\n        patch(instance.$LI, nextInput, parentDOM, instance.$CX, isSVG, nextNode);\n        // Dont update Last input, until patch has been succesfully executed\n        instance.$LI = nextInput;\n        if (isFunction(instance.componentDidUpdate)) {\n            createDidUpdate(instance, lastProps, lastState, snapshot);\n        }\n    }\n    else {\n        instance.props = nextProps;\n        instance.state = nextState;\n        instance.context = context;\n    }\n}\nfunction patchClassComponent(lastVNode, nextVNode, parentDOM, context, isSVG, nextNode) {\n    var instance = (nextVNode.children = lastVNode.children);\n    // If Component has crashed, ignore it to stay functional\n    if (isNull(instance)) {\n        return;\n    }\n    var nextProps = nextVNode.props || EMPTY_OBJ;\n    var nextRef = nextVNode.ref;\n    var lastRef = lastVNode.ref;\n    var nextState = instance.state;\n    instance.$UPD = true;\n    if (!instance.$N) {\n        if (isFunction(instance.componentWillReceiveProps)) {\n            instance.$BR = true;\n            instance.componentWillReceiveProps(nextProps, context);\n            // If instance component was removed during its own update do nothing.\n            if (instance.$UN) {\n                return;\n            }\n            instance.$BR = false;\n        }\n        if (instance.$PSS) {\n            nextState = combineFrom(nextState, instance.$PS);\n            instance.$PSS = false;\n            instance.$PS = null;\n        }\n    }\n    updateClassComponent(instance, nextState, nextProps, parentDOM, context, isSVG, false, nextNode);\n    if (lastRef !== nextRef) {\n        unmountRef(lastRef);\n        mountRef(nextRef, instance);\n    }\n    instance.$UPD = false;\n}\nfunction patchFunctionalComponent(lastVNode, nextVNode, parentDOM, context, isSVG, nextNode) {\n    var shouldUpdate = true;\n    var nextProps = nextVNode.props || EMPTY_OBJ;\n    var nextRef = nextVNode.ref;\n    var lastProps = lastVNode.props;\n    var nextHooksDefined = !isNullOrUndef(nextRef);\n    var lastInput = lastVNode.children;\n    if (nextHooksDefined && isFunction(nextRef.onComponentShouldUpdate)) {\n        shouldUpdate = nextRef.onComponentShouldUpdate(lastProps, nextProps);\n    }\n    if (shouldUpdate !== false) {\n        if (nextHooksDefined && isFunction(nextRef.onComponentWillUpdate)) {\n            nextRef.onComponentWillUpdate(lastProps, nextProps);\n        }\n        var nextInput = handleComponentInput(nextVNode.type(nextProps, context));\n        patch(lastInput, nextInput, parentDOM, context, isSVG, nextNode);\n        nextVNode.children = nextInput;\n        if (nextHooksDefined && isFunction(nextRef.onComponentDidUpdate)) {\n            nextRef.onComponentDidUpdate(lastProps, nextProps);\n        }\n    }\n    else {\n        nextVNode.children = lastInput;\n    }\n}\nfunction patchText(lastVNode, nextVNode) {\n    var nextText = nextVNode.children;\n    var dom = lastVNode.dom;\n    if (nextText !== lastVNode.children) {\n        dom.nodeValue = nextText;\n    }\n    nextVNode.dom = dom;\n}\nfunction patchNonKeyedChildren(lastChildren, nextChildren, dom, context, isSVG, lastChildrenLength, nextChildrenLength, nextNode) {\n    var commonLength = lastChildrenLength > nextChildrenLength ? nextChildrenLength : lastChildrenLength;\n    var i = 0;\n    var nextChild;\n    var lastChild;\n    for (; i < commonLength; i++) {\n        nextChild = nextChildren[i];\n        lastChild = lastChildren[i];\n        if (nextChild.flags & 16384 /* InUse */) {\n            nextChild = nextChildren[i] = directClone(nextChild);\n        }\n        patch(lastChild, nextChild, dom, context, isSVG, nextNode);\n        lastChildren[i] = nextChild;\n    }\n    if (lastChildrenLength < nextChildrenLength) {\n        for (i = commonLength; i < nextChildrenLength; i++) {\n            nextChild = nextChildren[i];\n            if (nextChild.flags & 16384 /* InUse */) {\n                nextChild = nextChildren[i] = directClone(nextChild);\n            }\n            mount(nextChild, dom, context, isSVG, nextNode);\n        }\n    }\n    else if (lastChildrenLength > nextChildrenLength) {\n        for (i = commonLength; i < lastChildrenLength; i++) {\n            remove(lastChildren[i], dom);\n        }\n    }\n}\nfunction patchKeyedChildren(a, b, dom, context, isSVG, aLength, bLength, outerEdge, parentVNode) {\n    var aEnd = aLength - 1;\n    var bEnd = bLength - 1;\n    var i = 0;\n    var j = 0;\n    var aNode = a[j];\n    var bNode = b[j];\n    var nextPos;\n    var nextNode;\n    // Step 1\n    // tslint:disable-next-line\n    outer: {\n        // Sync nodes with the same key at the beginning.\n        while (aNode.key === bNode.key) {\n            if (bNode.flags & 16384 /* InUse */) {\n                b[j] = bNode = directClone(bNode);\n            }\n            patch(aNode, bNode, dom, context, isSVG, outerEdge);\n            a[j] = bNode;\n            j++;\n            if (j > aEnd || j > bEnd) {\n                break outer;\n            }\n            aNode = a[j];\n            bNode = b[j];\n        }\n        aNode = a[aEnd];\n        bNode = b[bEnd];\n        // Sync nodes with the same key at the end.\n        while (aNode.key === bNode.key) {\n            if (bNode.flags & 16384 /* InUse */) {\n                b[bEnd] = bNode = directClone(bNode);\n            }\n            patch(aNode, bNode, dom, context, isSVG, outerEdge);\n            a[aEnd] = bNode;\n            aEnd--;\n            bEnd--;\n            if (j > aEnd || j > bEnd) {\n                break outer;\n            }\n            aNode = a[aEnd];\n            bNode = b[bEnd];\n        }\n    }\n    if (j > aEnd) {\n        if (j <= bEnd) {\n            nextPos = bEnd + 1;\n            nextNode = nextPos < bLength ? findDOMfromVNode(b[nextPos]) : outerEdge;\n            while (j <= bEnd) {\n                bNode = b[j];\n                if (bNode.flags & 16384 /* InUse */) {\n                    b[j] = bNode = directClone(bNode);\n                }\n                j++;\n                mount(bNode, dom, context, isSVG, nextNode);\n            }\n        }\n    }\n    else if (j > bEnd) {\n        while (j <= aEnd) {\n            remove(a[j++], dom);\n        }\n    }\n    else {\n        var aStart = j;\n        var bStart = j;\n        var aLeft = aEnd - j + 1;\n        var bLeft = bEnd - j + 1;\n        var sources = [];\n        while (i++ <= bLeft) {\n            sources.push(0);\n        }\n        // Keep track if its possible to remove whole DOM using textContent = '';\n        var canRemoveWholeContent = aLeft === aLength;\n        var moved = false;\n        var pos = 0;\n        var patched = 0;\n        // When sizes are small, just loop them through\n        if (bLength < 4 || (aLeft | bLeft) < 32) {\n            for (i = aStart; i <= aEnd; i++) {\n                aNode = a[i];\n                if (patched < bLeft) {\n                    for (j = bStart; j <= bEnd; j++) {\n                        bNode = b[j];\n                        if (aNode.key === bNode.key) {\n                            sources[j - bStart] = i + 1;\n                            if (canRemoveWholeContent) {\n                                canRemoveWholeContent = false;\n                                while (aStart < i) {\n                                    remove(a[aStart++], dom);\n                                }\n                            }\n                            if (pos > j) {\n                                moved = true;\n                            }\n                            else {\n                                pos = j;\n                            }\n                            if (bNode.flags & 16384 /* InUse */) {\n                                b[j] = bNode = directClone(bNode);\n                            }\n                            patch(aNode, bNode, dom, context, isSVG, outerEdge);\n                            patched++;\n                            break;\n                        }\n                    }\n                    if (!canRemoveWholeContent && j > bEnd) {\n                        remove(aNode, dom);\n                    }\n                }\n                else if (!canRemoveWholeContent) {\n                    remove(aNode, dom);\n                }\n            }\n        }\n        else {\n            var keyIndex = {};\n            // Map keys by their index\n            for (i = bStart; i <= bEnd; i++) {\n                keyIndex[b[i].key] = i;\n            }\n            // Try to patch same keys\n            for (i = aStart; i <= aEnd; i++) {\n                aNode = a[i];\n                if (patched < bLeft) {\n                    j = keyIndex[aNode.key];\n                    if (j !== void 0) {\n                        if (canRemoveWholeContent) {\n                            canRemoveWholeContent = false;\n                            while (i > aStart) {\n                                remove(a[aStart++], dom);\n                            }\n                        }\n                        bNode = b[j];\n                        sources[j - bStart] = i + 1;\n                        if (pos > j) {\n                            moved = true;\n                        }\n                        else {\n                            pos = j;\n                        }\n                        if (bNode.flags & 16384 /* InUse */) {\n                            b[j] = bNode = directClone(bNode);\n                        }\n                        patch(aNode, bNode, dom, context, isSVG, outerEdge);\n                        patched++;\n                    }\n                    else if (!canRemoveWholeContent) {\n                        remove(aNode, dom);\n                    }\n                }\n                else if (!canRemoveWholeContent) {\n                    remove(aNode, dom);\n                }\n            }\n        }\n        // fast-path: if nothing patched remove all old and add all new\n        if (canRemoveWholeContent) {\n            removeAllChildren(dom, parentVNode, a);\n            mountArrayChildren(b, dom, context, isSVG, outerEdge);\n        }\n        else if (moved) {\n            var seq = lis_algorithm(sources);\n            j = seq.length - 1;\n            for (i = bLeft - 1; i >= 0; i--) {\n                if (sources[i] === 0) {\n                    pos = i + bStart;\n                    bNode = b[pos];\n                    if (bNode.flags & 16384 /* InUse */) {\n                        b[pos] = bNode = directClone(bNode);\n                    }\n                    nextPos = pos + 1;\n                    mount(bNode, dom, context, isSVG, nextPos < bLength ? findDOMfromVNode(b[nextPos]) : outerEdge);\n                }\n                else if (j < 0 || i !== seq[j]) {\n                    pos = i + bStart;\n                    bNode = b[pos];\n                    nextPos = pos + 1;\n                    moveVNodeDOM(bNode, dom, nextPos < bLength ? findDOMfromVNode(b[nextPos]) : outerEdge);\n                }\n                else {\n                    j--;\n                }\n            }\n        }\n        else if (patched !== bLeft) {\n            // when patched count doesn't match b length we need to insert those new ones\n            // loop backwards so we can use insertBefore\n            for (i = bLeft - 1; i >= 0; i--) {\n                if (sources[i] === 0) {\n                    pos = i + bStart;\n                    bNode = b[pos];\n                    if (bNode.flags & 16384 /* InUse */) {\n                        b[pos] = bNode = directClone(bNode);\n                    }\n                    nextPos = pos + 1;\n                    mount(bNode, dom, context, isSVG, nextPos < bLength ? findDOMfromVNode(b[nextPos]) : outerEdge);\n                }\n            }\n        }\n    }\n}\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\nfunction lis_algorithm(arr) {\n    var p = arr.slice();\n    var result = [0];\n    var i;\n    var j;\n    var u;\n    var v;\n    var c;\n    var len = arr.length;\n    for (i = 0; i < len; i++) {\n        var arrI = arr[i];\n        if (arrI !== 0) {\n            j = result[result.length - 1];\n            if (arr[j] < arrI) {\n                p[i] = j;\n                result.push(i);\n                continue;\n            }\n            u = 0;\n            v = result.length - 1;\n            while (u < v) {\n                c = ((u + v) / 2) | 0;\n                if (arr[result[c]] < arrI) {\n                    u = c + 1;\n                }\n                else {\n                    v = c;\n                }\n            }\n            if (arrI < arr[result[u]]) {\n                if (u > 0) {\n                    p[i] = result[u - 1];\n                }\n                result[u] = i;\n            }\n        }\n    }\n    u = result.length;\n    v = result[u - 1];\n    while (u-- > 0) {\n        result[u] = v;\n        v = p[v];\n    }\n    return result;\n}\n\nvar hasDocumentAvailable = typeof document !== 'undefined';\nvar documentBody = hasDocumentAvailable ? document.body : null;\nfunction __render(input, parentDOM, callback, context) {\n    var rootInput = parentDOM.$V;\n    if (isNullOrUndef(rootInput)) {\n        if (!isNullOrUndef(input)) {\n            if (input.flags & 16384 /* InUse */) {\n                input = directClone(input);\n            }\n            mount(input, parentDOM, context || EMPTY_OBJ, false, null);\n            parentDOM.$V = input;\n            rootInput = input;\n        }\n    }\n    else {\n        if (isNullOrUndef(input)) {\n            remove(rootInput, parentDOM);\n            parentDOM.$V = null;\n        }\n        else {\n            if (input.flags & 16384 /* InUse */) {\n                input = directClone(input);\n            }\n            patch(rootInput, input, parentDOM, context || EMPTY_OBJ, false, null);\n            rootInput = parentDOM.$V = input;\n        }\n    }\n    if (LIFECYCLE.length > 0) {\n        callAll(LIFECYCLE);\n    }\n    if (isFunction(callback)) {\n        callback();\n    }\n    if (isFunction(options.renderComplete)) {\n        options.renderComplete(rootInput, parentDOM);\n    }\n}\nfunction render(input, parentDOM, callback, context) {\n    __render(input, parentDOM, callback, context);\n}\nfunction createRenderer(parentDOM) {\n    return function renderer(lastInput, nextInput, callback, context) {\n        if (!parentDOM) {\n            parentDOM = lastInput;\n        }\n        render(nextInput, parentDOM, callback, context);\n    };\n}\n\nvar QUEUE = [];\nvar nextTick = typeof Promise !== 'undefined' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout.bind(window);\nfunction queueStateChanges(component, newState, callback, force) {\n    if (isFunction(newState)) {\n        newState = newState(component.state, component.props, component.context);\n    }\n    var pending = component.$PS;\n    if (isNullOrUndef(pending)) {\n        component.$PS = newState;\n    }\n    else {\n        for (var stateKey in newState) {\n            pending[stateKey] = newState[stateKey];\n        }\n    }\n    if (!component.$PSS && !component.$BR) {\n        if (!component.$UPD) {\n            component.$PSS = true;\n            component.$UPD = true;\n            if (QUEUE.length === 0) {\n                applyState(component, force, callback);\n            }\n            else {\n                QUEUE.push(component);\n            }\n        }\n        else {\n            if (QUEUE.push(component) === 1) {\n                nextTick(rerender);\n            }\n            if (isFunction(callback)) {\n                var QU = component.$QU;\n                if (!QU) {\n                    QU = component.$QU = [];\n                }\n                QU.push(callback);\n            }\n        }\n    }\n    else {\n        component.$PSS = true;\n        if (component.$BR && isFunction(callback)) {\n            LIFECYCLE.push(callback.bind(component));\n        }\n    }\n}\nfunction callSetStateCallbacks(component) {\n    var queue = component.$QU;\n    for (var i = 0, len = queue.length; i < len; i++) {\n        queue[i].call(component);\n    }\n    component.$QU = null;\n}\nfunction rerender() {\n    var component;\n    while ((component = QUEUE.pop())) {\n        var queue = component.$QU;\n        applyState(component, false, queue ? callSetStateCallbacks.bind(null, component) : null);\n    }\n}\nfunction applyState(component, force, callback) {\n    if (component.$UN) {\n        return;\n    }\n    if (force || !component.$BR) {\n        component.$PSS = false;\n        var pendingState = component.$PS;\n        component.$PS = null;\n        component.$UPD = true;\n        updateClassComponent(component, combineFrom(component.state, pendingState), component.props, findDOMfromVNode(component.$LI).parentNode, component.context, false, force, null);\n        component.$UPD = false;\n        if (LIFECYCLE.length > 0) {\n            callAll(LIFECYCLE);\n        }\n    }\n    else {\n        component.state = component.$PS;\n        component.$PS = null;\n    }\n    if (isFunction(callback)) {\n        callback.call(component);\n    }\n}\nvar Component = function Component(props, context) {\n    // Public\n    this.state = null;\n    // Internal properties\n    this.$BR = false; // BLOCK RENDER\n    this.$BS = true; // BLOCK STATE\n    this.$PSS = false; // PENDING SET STATE\n    this.$PS = null; // PENDING STATE (PARTIAL or FULL)\n    this.$LI = null; // LAST INPUT\n    this.$UN = false; // UNMOUNTED\n    this.$CX = null; // CHILDCONTEXT\n    this.$UPD = true; // UPDATING\n    this.$QU = null; // QUEUE\n    this.$N = false; // Flag\n    /** @type {object} */\n    this.props = props || EMPTY_OBJ;\n    /** @type {object} */\n    this.context = context || EMPTY_OBJ; // context should not be mutable\n};\nComponent.prototype.forceUpdate = function forceUpdate (callback) {\n    if (this.$UN) {\n        return;\n    }\n    // Do not allow double render during force update\n    queueStateChanges(this, {}, callback, true);\n};\nComponent.prototype.setState = function setState (newState, callback) {\n    if (this.$UN) {\n        return;\n    }\n    if (!this.$BS) {\n        queueStateChanges(this, newState, callback, false);\n    }\n    else {\n        return;\n    }\n};\nComponent.prototype.render = function render (_nextProps, _nextState, _nextContext) {\n    return null;\n};\n\nvar version = \"6.0.3\";\n\nexport { Component, Fragment, EMPTY_OBJ, createComponentVNode, createFragment, createPortal, createRef, createRenderer, createTextVNode, createVNode, forwardRef, directClone, findDOMfromVNode, getFlagsForElementVnode, linkEvent, normalizeProps, options, render, rerender, version, LIFECYCLE as _L, createClassComponentInstance as _CI, handleComponentInput as _HI, mount as _M, mountClassComponentCallbacks as _MCCC, mountElement as _ME, mountFunctionalComponentCallbacks as _MFCC, mountRef as _MR, mountText as _MT, mountProps as _MP, __render };\n","export * from './dist/index.esm.js';\n\nif (process.env.NODE_ENV !== 'production') {\n  console.warn('You are running production build of Inferno in development mode. Use dev:module entry point.');\n}\n","import \"./index.scss\";\n\nimport { Component, render } from \"inferno\";\n\nfunction str2uint(str: string): number {\n  const n = parseInt(str);\n  if (isNaN(n)) {\n    return 0;\n  }\n  return n;\n}\n\ninterface ScoringParameters {\n  baseValue: number;\n  bonusThreshold: number;\n  bonusValue: number;\n}\n\nfunction newScoringParameters(): ScoringParameters {\n  return {\n    baseValue: 20,\n    bonusThreshold: 8,\n    bonusValue: 20,\n  };\n}\n\ninterface Player {\n  name: string;\n  multipliers: number[];\n  cardSets: number[][];\n}\n\nfunction newPlayer(name: string): Player {\n  return {\n    name,\n    multipliers: [0, 0, 0, 0, 0],\n    cardSets: [[], [], [], [], []],\n  };\n}\n\nfunction cardSetScore(\n  scoringParameters: ScoringParameters,\n  multiplier: number,\n  cardSet: number[],\n): number {\n  if (multiplier === 0 && cardSet.length === 0) {\n    return 0;\n  }\n  let total = cardSet.reduce((a, b) => a + b, 0);\n  total -= scoringParameters.baseValue;\n  total *= multiplier + 1;\n  if (multiplier + cardSet.length >= scoringParameters.bonusThreshold) {\n    total += scoringParameters.bonusValue;\n  }\n  return total;\n}\n\nfunction playerScore(scoringParameters: ScoringParameters, player: Player): number {\n  let score = 0;\n  for (let i = 0; i < player.multipliers.length; i++) {\n    score += cardSetScore(scoringParameters, player.multipliers[i], player.cardSets[i]);\n  }\n  return score;\n}\n\nfunction CardSet(props: {\n  scoringParameters: ScoringParameters;\n  multiplier: number;\n  cardSet: number[];\n  setMultiplier: (multiplier: number) => void;\n  setCardSet: (cardSet: number[]) => void;\n}) {\n  const score = cardSetScore(props.scoringParameters, props.multiplier, props.cardSet);\n  let key;\n  return (\n    <div class=\"field has-addons is-fullwidth\">\n      <p class=\"control\">\n        <span class=\"select\">\n          <select\n            value={props.multiplier}\n            onChange={e => {\n              props.setMultiplier(str2uint(e.currentTarget.value));\n            }}\n          >\n            <option value={0}>0</option>\n            <option value={1}>1</option>\n            <option value={2}>2</option>\n            <option value={3}>3</option>\n          </select>\n        </span>\n      </p>\n      <p class=\"control\" style={{ width: \"100%\" }}>\n        <input\n          class=\"input\"\n          type=\"text\"\n          value={props.cardSet.join(\" \")}\n          onInput={e => {\n            // Check if we even care about the input\n            if (\n              !(\n                key === \"0\" ||\n                key === \"1\" ||\n                key === \"2\" ||\n                key === \"3\" ||\n                key === \"4\" ||\n                key === \"5\" ||\n                key === \"6\" ||\n                key === \"7\" ||\n                key === \"8\" ||\n                key === \"9\" ||\n                key === \" \" ||\n                key === \"Backspace\" ||\n                key === \"Delete\"\n              )\n            ) {\n              return;\n            }\n            let cs = [];\n            if (e.currentTarget.value.length > 0) {\n              // Reduce all whitespace to a single character\n              let s = e.currentTarget.value.replace(/\\s\\s+/g, \" \");\n              // This check allows us to backspace a \"... 0\" string\n              if (s.substr(s.length - 1) === \" \" && key === \"Backspace\") {\n                s = s.trim();\n              }\n              // Dont allow the input to start with a space\n              if (s !== \" \") {\n                cs = s.split(\" \").map(str2uint);\n              }\n            }\n            props.setCardSet(cs);\n          }}\n          onKeyDown={e => {\n            key = e.key;\n          }}\n        />\n      </p>\n      <p class=\"control\">\n        <a class=\"button is-static\">{score}</a>\n      </p>\n    </div>\n  );\n}\n\nfunction PlayerComp(props: {\n  scoringParameters;\n  player: Player;\n  setPlayer: (player: Player) => void;\n}) {\n  const scoringParameters = props.scoringParameters;\n  const { name, multipliers, cardSets } = props.player;\n  let score = 0;\n  for (let i = 0; i < multipliers.length; i++) {\n    score += cardSetScore(scoringParameters, multipliers[i], cardSets[i]);\n  }\n  return (\n    <div>\n      <h1 class=\"is-size-4\">{`${name} Score: ${score}`}</h1>\n      {multipliers.map((m, i) => (\n        <CardSet\n          scoringParameters={scoringParameters}\n          multiplier={m}\n          cardSet={cardSets[i]}\n          setMultiplier={(multiplier: number) => {\n            const ms = multipliers.slice();\n            ms[i] = multiplier;\n            props.setPlayer({ name, cardSets, multipliers: ms });\n          }}\n          setCardSet={(cardSet: number[]) => {\n            const cs = cardSets.slice();\n            cs[i] = cardSet;\n            props.setPlayer({ name, multipliers, cardSets: cs });\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\ninterface AppState {\n  scoringParameters: ScoringParameters;\n  player1: Player;\n  player2: Player;\n}\n\nclass App extends Component<{}, {}> {\n  public state: AppState = {\n    scoringParameters: newScoringParameters(),\n    player1: newPlayer(\"Player 1\"),\n    player2: newPlayer(\"Player 2\"),\n  };\n\n  constructor(props: null, context: null) {\n    super(props, context);\n  }\n\n  public render() {\n    const { scoringParameters, player1, player2 } = this.state;\n    const player1Score = playerScore(scoringParameters, player1);\n    const player2Score = playerScore(scoringParameters, player2);\n    let resultText = `Its a tie! ${player1Score} to ${player2Score}`;\n    if (player1Score > player2Score) {\n      resultText = `${player1.name} wins! ${player1Score} to ${player2Score}`;\n    } else if (player2Score > player1Score) {\n      resultText = `${player2.name} wins! ${player2Score} to ${player1Score}`;\n    }\n    return (\n      <div class=\"container\">\n        <h1 class=\"is-size-1\">Lost Cities</h1>\n        <h1 class=\"is-size-4\">Scoring Parameters</h1>\n        <div class=\"field is-horizontal\">\n          <div class=\"field-label is-normal\">\n            <label class=\"label\">Base Value</label>\n          </div>\n          <div class=\"field-body\">\n            <div class=\"field\">\n              <input\n                type=\"text\"\n                class=\"input\"\n                value={scoringParameters.baseValue}\n                onInput={e => {\n                  const baseValue = str2uint(e.currentTarget.value);\n                  this.setState({\n                    scoringParameters: { ...scoringParameters, baseValue },\n                  });\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"field is-horizontal\">\n          <div class=\"field-label is-normal\">\n            <label class=\"label\">Bonus Threshold</label>\n          </div>\n          <div class=\"field-body\">\n            <div class=\"field\">\n              <input\n                type=\"text\"\n                class=\"input\"\n                value={scoringParameters.bonusThreshold}\n                onInput={e => {\n                  const bonusThreshold = str2uint(e.currentTarget.value);\n                  this.setState({\n                    scoringParameters: { ...scoringParameters, bonusThreshold },\n                  });\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"field is-horizontal\">\n          <div class=\"field-label is-normal\">\n            <label class=\"label\">Bonus Value</label>\n          </div>\n          <div class=\"field-body\">\n            <div class=\"field\">\n              <input\n                type=\"text\"\n                class=\"input\"\n                value={scoringParameters.bonusValue}\n                onInput={e => {\n                  const bonusValue = str2uint(e.currentTarget.value);\n                  this.setState({\n                    scoringParameters: { ...scoringParameters, bonusValue },\n                  });\n                }}\n              />\n            </div>\n          </div>\n        </div>\n\n        <PlayerComp\n          scoringParameters={scoringParameters}\n          player={player1}\n          setPlayer={(player: Player) => {\n            this.setState({ player1: player });\n          }}\n        />\n        <PlayerComp\n          scoringParameters={scoringParameters}\n          player={player2}\n          setPlayer={(player: Player) => {\n            this.setState({ player2: player });\n          }}\n        />\n        <div class=\"level\">\n          <h1 class=\"level-item is-size-3\">{resultText}</h1>\n          <input\n            type=\"button\"\n            class=\"button is-primary\"\n            value=\"Reset\"\n            onClick={() => {\n              this.setState({\n                player1: newPlayer(player1.name),\n                player2: newPlayer(player2.name),\n              });\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\n// Main\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Render the app\n  render(<App />, document.getElementById(\"root\"));\n\n  // Add navbar burger toggle\n  // Get all \"navbar-burger\" elements\n  const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll(\".navbar-burger\"), 0);\n  if ($navbarBurgers.length > 0) {\n    // Add a click event on each of them\n    $navbarBurgers.forEach($el => {\n      $el.addEventListener(\"click\", () => {\n        // Get the target from the \"data-target\" attribute\n        const target = $el.dataset.target;\n        const $target = document.getElementById(target);\n\n        // Toggle the class on both the \"navbar-burger\" and the \"navbar-menu\"\n        $el.classList.toggle(\"is-active\");\n        $target.classList.toggle(\"is-active\");\n      });\n    });\n  }\n\n  // Add the favicon\n  const docHead = document.getElementsByTagName(\"head\")[0];\n  const newLink = document.createElement(\"link\");\n  newLink.rel = \"shortcut icon\";\n  //   newLink.href = ICON;\n  docHead.appendChild(newLink);\n});\n"]}